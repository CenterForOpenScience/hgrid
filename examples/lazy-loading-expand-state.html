<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../src/hgrid.css" type="text/css" />
    <link rel="stylesheet" href="./normalize.css">
    <link rel="stylesheet" href="./examples.css">
    <title>HGrid: Lazy Loading Data</title>
</head>
<body>

<div class="box">
<h1>HGrid: Saving expand state</h1>
<p>NOTE: This example uses a fake server to load data.</p>
<div class="hgrid" id="myGrid"></div>
</div>

<script src="../lib/jquery-1.10.2.js"></script>
<script src='./jquery.mockjax.js'></script>
<script src='./mockserver-lazy-expandstate.js'></script>
<script src="../dist/hgrid.js"></script>

<script>
$('#myGrid').hgrid({
  data: '/grid/',
  getExpandState: function(folder) {
    return folder.expanded;
  },
  onExpand: function(event, folder) {
    folder.expanded = false;
  },
  fetchUrl: function(item) {
    if (item.slug) {
      return '/grid/' + item.slug;
    }
    return null;
  },
  ajaxOptions: {
    error: function(xhr, textStatus, error) {
        alert('Server took a dump. Told you so.');
    }
  }
});
</script>
</body>
</html>
